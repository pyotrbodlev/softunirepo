<form class="register-container" [formGroup]="registerForm">
  <h1>Register</h1>
  <mat-form-field appearance="fill">
    <mat-label>Enter your username</mat-label>
    <label>
      <input matInput placeholder="username" formControlName="username" >
    </label>
    <mat-icon *ngIf="registerForm.controls.username.valid" matSuffix class="valid">check_circle_outline</mat-icon>
    <mat-error *ngIf="this.registerForm.controls.username.invalid">{{getErrorMessage('username')}}</mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Enter your email address</mat-label>
    <label>
      <input matInput placeholder="email" formControlName="email">
    </label>
    <mat-icon *ngIf="registerForm.controls.email.valid" matSuffix class="valid">check_circle_outline</mat-icon>
    <mat-error *ngIf="this.registerForm.controls.email.invalid">{{getErrorMessage('email')}}</mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Enter your password</mat-label>
    <label>
      <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password">
    </label>
    <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hidePassword">
      <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
    </button>
    <mat-error *ngIf="this.registerForm.controls.password.invalid">{{getErrorMessage('password')}}</mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Re-Enter your password</mat-label>
    <label>
      <input matInput [type]="hideConfirmPassword ? 'password' : 'text'" formControlName="confirmPassword" (change)="checkPass()">
    </label>
    <button mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hideConfirmPassword">
      <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
    </button>
    <mat-error
      *ngIf="this.registerForm.controls.confirmPassword.invalid">{{getErrorMessage('confirmPassword')}}</mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Choose a date</mat-label>
    <label>
      <input matInput [matDatepicker]="picker" formControlName="birthday">
    </label>
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker startView="year" [startAt]="startDate"></mat-datepicker>
    <mat-error *ngIf="this.registerForm.controls.birthday.invalid">{{getErrorMessage('birthday')}}</mat-error>
  </mat-form-field>
  <button mat-raised-button color="primary" (click)="handleRegister()" [disabled]="!registerForm.valid">Register
  </button>
</form>
